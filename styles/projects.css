/* ==========================================================================
   Projects Section Styles
   ========================================================================== */

.projects {
    background: linear-gradient(to bottom, #ffffff, #c8dcf3); /* Fundo claro */
    padding: var(--section-padding-y, 6rem) 0;
    position: relative; /* Importante para posicionamento dos botões */
}

.projects .section-header {
    margin-bottom: 3rem; /* Reduced margin */
}

/* Estilos para a área de status do filtro */
.project-filter-status {
    text-align: center;
    margin-bottom: 2.5rem; 
    padding: 1rem 0; /* Added padding */
    border-top: 1px solid #cddbf1; /* Added subtle border */
    border-bottom: 1px solid #cddbf1;
    min-height: 3em; /* Adjusted min-height */
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    transition: opacity 0.3s ease, transform 0.3s ease; /* Simplificar transição, remover max-height */
    opacity: 0;
    transform: translateY(-10px);
    overflow: hidden; /* Manter hidden inicialmente */
    position: relative; /* Add relative positioning for dropdown context */
    flex-wrap: wrap; /* Allow rows to wrap if needed */
}

.project-filter-status.visible {
    opacity: 1;
    transform: translateY(0);
    overflow: visible; /* Permitir que o conteúdo excedente seja visível */
}

.filter-status-main-row {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    flex-wrap: wrap; 
    justify-content: center; /* Centralizar label e tags quando quebrar */
    flex-grow: 1; 
    flex-basis: 0; /* Permitir encolher e crescer */
    width: 100%; 
    padding: 0 1rem; /* Add some horizontal padding to the row */
    box-sizing: border-box; /* Include padding in width calculation */
    margin-bottom: 0; 
}

.project-filter-status.list-expanded .filter-status-main-row {
    margin-bottom: 1rem; /* Add space when list is expanded */
}

#active-filter-label {
    font-size: var(--text-sm);
    color: #666666;
    margin-right: 0.2em; /* Ensure space before tags */
}

#active-filter-text {
    display: flex;
    flex-wrap: wrap; 
    gap: 0.5em; 
    align-items: center;
    flex-basis: auto; 
}

/* Wrapper for the action buttons */
.filter-action-buttons {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    flex-shrink: 0;
    flex-basis: auto; /* Largura natural */
}

/* Container for each filter tag + remove button */
.filter-tag {
    display: inline-flex; /* Keep tag and button together */
    align-items: center;
    background-color: rgba(var(--accent-rgb), 0.15);
    border-radius: var(--border-radius-md);
    overflow: hidden; /* Clip the button edges */
    min-width: 120px; /* Adiciona largura mínima */
}

/* Individual filter tag style (reusing some from before) */
#active-filter-text .filter-tag strong {
    color: var(--accent-color);
    font-weight: var(--font-semibold);
    padding: 0.4em 0.8em;
    margin-left: 0; 
    display: inline-block; 
    flex-grow: 1; /* Faz o texto ocupar o espaço, empurrando o botão X */
    text-align: center; /* Centraliza o texto do filtro */
}

/* Remove button style */
.remove-filter-btn {
    background-color: transparent;
    border: none;
    color: var(--accent-color);
    cursor: pointer;
    padding: 0.4em 0.6em; /* Adjust padding */
    font-size: 1.1em; /* Make X slightly larger */
    line-height: 1; /* Prevent extra height */
    transition: background-color 0.2s ease, color 0.2s ease;
    align-self: stretch; /* Make it fill the height of the container */
    display: flex;
    align-items: center;
    justify-content: center;
}

.remove-filter-btn:hover {
    background-color: rgba(var(--accent-rgb), 0.25);
    color: var(--accent-color-dark);
}

/* Style for the clear filter button */
.show-all-btn {
   padding: 0.6rem 1.2rem; /* Slightly larger padding */
   font-size: var(--text-sm);
   font-weight: var(--font-semibold);
   background-color: var(--accent-color); /* Primary action color */
   color: var(--white); /* White text */
   border: none;
   border-radius: var(--border-radius-md);
   cursor: pointer;
   transition: all 0.3s ease;
   display: inline-flex; /* Align icon and text */
   align-items: center;
   gap: 0.5em;
   min-width: 120px; /* Adiciona largura mínima */
   justify-content: center; /* Centraliza o conteúdo (ícone + texto) */
}

.show-all-btn i {
    font-size: 0.9em; /* Adjust icon size */
}

.show-all-btn:hover {
    background-color: var(--accent-color-dark); /* Darker on hover */
    box-shadow: var(--shadow-sm);
    transform: translateY(-2px);
}

/* Remove default styles inherited from .filter-btn if necessary */
.show-all-btn {
    /* Override any conflicting .filter-btn styles here */
    /* Example: border: none; if .filter-btn had one */
}

/* Hide the label and text if filter status is not visible */
.project-filter-status:not(.visible) #active-filter-label,
.project-filter-status:not(.visible) #active-filter-text {
    display: none;
}

/* Swiper Styles */
.projects-swiper {
    width: 100%;
    padding: 2rem 0;
    position: relative;
    overflow: visible; /* Importante para mostrar os botões fora do container */
}

.swiper-slide {
    display: flex;
    justify-content: center;
    align-items: stretch;
    height: auto;
}

.project-card {
    background-color: var(--card-bg);
    border-radius: var(--border-radius-lg, 12px);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
    height: 450px; /* Altura fixa ajustada */
}

.project-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}

/* Estilo para projetos ocultos pelo filtro */
.project-card.hidden {
    transform: scale(0.95);
    opacity: 0;
    pointer-events: none;
    /* Delay para desaparecer antes de mudar o layout */
    transition: opacity 0.3s ease, transform 0.3s ease;
     /* Para não ocupar espaço ao filtrar */
    /* A remoção do espaço será controlada pelo JS ou pelo grid */
    position: absolute; 
    visibility: hidden;
}

.project-image {
    width: 100%;
    height: 200px; /* Altura fixa para a imagem */
    position: relative;
    background-color: var(--background-alt);
}

.project-image img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.project-content {
    padding: 1.25rem;
    display: flex;
    flex-direction: column;
    flex: 1;
    position: relative;
}

.project-title {
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    color: var(--text-primary) !important;
    margin-bottom: 0.75rem;
    line-height: 1.2;
    height: 2.4em; /* Altura fixa para 2 linhas */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.project-description {
    font-size: var(--text-sm);
    color: var(--text-primary) !important;
    line-height: var(--leading-relaxed);
    margin-bottom: 1rem;
    height: 4.5em; /* Altura fixa para 3 linhas */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
}

.section-title {
    font-size: var(--text-3xl);
    font-weight: var(--font-bold);
    color: var(--accent-color);
    margin-bottom: 1.5rem;
    position: relative;
    display: inline-block;
}

.section-description {
    color: #666666 !important;
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    margin-bottom: 2rem;
    text-align: center;
    margin-top: 1.5rem;
}

.project-tags {
    margin-bottom: 3rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    min-height: 32px;
}

.tag {
    background-color: rgba(var(--accent-rgb), 0.1);
    color: var(--accent-color);
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    padding: 0.3em 0.8em;
    border-radius: var(--border-radius-full, 99px);
    transition: all 0.2s ease;
    border: 1px solid rgba(var(--accent-rgb), 0.12);
    display: inline-flex;
    align-items: center;
    gap: 0.4em;
    line-height: 1.4;
    cursor: default;
    user-select: none;
}

.tag:hover {
    background-color: rgba(var(--accent-rgb), 0.12);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(var(--accent-rgb), 0.1);
}

/* Ajuste para o tema escuro */
@media (prefers-color-scheme: dark) {
    .tag {
        background-color: rgba(var(--accent-rgb), 0.15);
        border-color: rgba(var(--accent-rgb), 0.2);
    }
    
    .tag:hover {
        background-color: rgba(var(--accent-rgb), 0.2);
    }
}

.project-links {
    position: absolute;
    bottom: 1.25rem;
    left: 1.25rem;
    right: 1.25rem;
    display: flex;
    gap: 1rem;
}

.project-link {
    color: var(--accent-color);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    text-decoration: none;
}

.project-link:hover {
    color: var(--accent-color-light);
    text-decoration: underline;
}

/* Swiper Navigation Buttons - Minimalist Style (Icon Only - Forced Transparent) */
.swiper-button-next,
.swiper-button-prev {
    /* Appearance */
    color: var(--text-secondary); /* Default icon color: grey */
    background-color: transparent !important; /* FORCE No background */
    border: none !important; /* Ensure no border is causing a shape */
    backdrop-filter: none;
    width: 36px; 
    height: 36px;
    border-radius: 0; /* Remove border-radius if it's contributing */
    box-shadow: none !important; 
    transition: color 0.2s ease, opacity 0.2s ease;
    z-index: 10; 
    opacity: 0; 
    pointer-events: none; 

    display: flex;
    justify-content: center;
    align-items: center;
}

.swiper-button-next:after,
.swiper-button-prev:after {
    font-size: 1.4rem; 
    font-weight: normal; 
}

/* Hover effect - Only change color and opacity */
.projects-swiper:hover .swiper-button-next,
.projects-swiper:hover .swiper-button-prev,
.swiper-button-next:hover,
.swiper-button-prev:hover {
    background-color: transparent !important; /* Ensure no background on hover */
    color: var(--accent-color); 
    opacity: 1; 
}

/* Initial state hidden, appear on container hover */
.projects-swiper:hover .swiper-button-next,
.projects-swiper:hover .swiper-button-prev {
    opacity: 0.7; 
    pointer-events: auto;
}

/* Ensure hover opacity is max */
.swiper-button-next:hover,
.swiper-button-prev:hover {
    opacity: 1;
}

/* Positioning */
.swiper-button-prev {
    left: 10px; 
}

.swiper-button-next {
    right: 10px; 
}

/* Swiper Pagination */
.swiper-pagination {
    position: relative;
    bottom: 0;
    margin-top: 2rem;
}

.swiper-pagination-bullet {
    width: 10px;
    height: 10px;
    background-color: var(--text-secondary);
    opacity: 0.5;
    margin: 0 5px;
}

.swiper-pagination-bullet-active {
    background-color: var(--accent-color);
    opacity: 1;
    transform: scale(1.2);
}

/* Responsividade */
/* Telas pequenas (smartphones) */
@media (max-width: 767px) { /* Aplicar a mais telas, incluindo tablets menores */
    .projects {
        padding: 4rem 0;
    }
    
    .project-filter-status {
        padding: 1rem 0.5rem; 
        gap: 0.75rem; 
        justify-content: center; /* Centralizar as linhas quando quebrarem */
    }

    /* Quando quebrar, centralizar o botão também */
    .filter-action-buttons {
       /* A centralização já deve ocorrer pelo justify-content do pai .project-filter-status */
       /* Garantir que tenha espaço se quebrar */
       margin-top: 0.5rem; /* Adicionar espaço se o botão for para baixo */
    }

    /* Ajustar o container principal de label+tags se necessário */
    .filter-status-main-row {
        justify-content: center; /* Centralizar label e tags */
        margin-bottom: 0; /* Remover margem extra */
        flex-basis: 100%; /* Ocupar espaço disponível para ajudar na quebra */
    }

    #active-filter-label {
        margin-bottom: 0.25rem; /* Pequeno espaço se a label ficar sozinha */
    }

    /* ... outras regras de @media (max-width: 480px) podem ser removidas ou ajustadas se redundantes ... */
    /* ... por exemplo, as regras de width: 100% foram removidas/ajustadas */

    /* ... (restante dos estilos @media (max-width: 480px)) ... */
    .projects .section-header {
        margin-bottom: 2rem;
    }
    
    .project-card {
        max-width: 100%;
    }
    
    .project-title {
        font-size: var(--text-lg);
    }
    
    .project-description {
        font-size: var(--text-xs);
    }
    
    .project-content {
        padding: 1rem;
    }
    
    .swiper-button-next,
    .swiper-button-prev {
        width: 30px;
        height: 30px;
    }
    
    .swiper-button-next:after,
    .swiper-button-prev:after {
        font-size: 0.8rem;
    }
    
    .swiper-button-prev {
        left: 5px;
    }
    
    .swiper-button-next {
        right: 5px;
    }
    
    .swiper-pagination-bullet {
        width: 8px;
        height: 8px;
    }

    /* Hide Swiper navigation buttons on smaller screens with higher specificity */
    .projects-swiper .swiper-button-next,
    .projects-swiper .swiper-button-prev {
        display: none !important; /* Force hiding */
    }
}

/* Telas médias (tablets) - Ajustar breakpoint e remover sobreposições */
@media (min-width: 768px) { 
    /* Remover estilos específicos de tablet que podem conflitar ou ser padrão */
    .filter-action-buttons {
        margin-top: 0; /* Resetar margem */
        margin-left: auto; /* Restaurar alinhamento à direita */
    }
    .filter-status-main-row {
        flex-basis: auto; /* Resetar basis */
        justify-content: flex-start; /* Alinhar à esquerda */
    }

    /* ... (restante dos estilos @media (min-width: 481px) and (max-width: 768px) podem ser removidos/integrados) ... */
    /* ... (restante dos estilos @media (min-width: 769px) and (max-width: 1024px) etc) ... */
}

/* Telas grandes (desktops) */
@media (min-width: 769px) and (max-width: 1024px) {
    .project-card {
        max-width: 350px;
    }
}

/* Telas muito grandes */
@media (min-width: 1025px) {
    .project-card {
        max-width: 400px;
    }
    
    .projects-swiper {
        padding: 3rem 0;
    }
}

/* Remove specific alignment/margins from individual buttons if they were targeting the old structure */
.filter-status-main-row .add-btn,
.filter-status-main-row .show-all-btn {
     /* align-self: center; No longer needed directly here */
     /* Add other resets if necessary */
}

/* Keep the harmonized styles for add-btn */
.add-btn {
    padding: 0.6rem 1rem; 
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    background-color: var(--background-light);
    color: var(--text-secondary);
    border: 1px solid var(--border-color); 
    border-radius: var(--border-radius-md); 
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.4em;
}

.add-btn i {
    font-size: 0.8em;
}

.add-btn:hover:not(:disabled) {
    border-color: var(--accent-color);
    color: var(--accent-color);
    background-color: rgba(var(--accent-rgb), 0.05);
    box-shadow: var(--shadow-sm);
    transform: translateY(-1px);
}

.add-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    border-style: solid; /* Ensure border shows even when disabled */
}

/* NEW Styles for Expandable List */
.add-filter-list {
    width: 100%;
    background-color: rgba(var(--card-bg-rgb), 0.7); /* Slightly transparent background */
    backdrop-filter: blur(5px); /* Optional: Blur background */
    border-radius: var(--border-radius-md);
    padding: 1rem;
    margin-top: 1rem;
    box-shadow: var(--shadow-inner, inset 0 2px 4px rgba(0,0,0,0.06));
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    justify-content: center;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-out, opacity 0.4s ease-out, margin-top 0.4s ease-out, padding 0.4s ease-out;
}

.add-filter-list:not([hidden]) {
    max-height: 200px; /* Adjust as needed */
    opacity: 1;
    overflow-y: auto; /* Allow vertical scroll if needed, though wrap is preferred */
    padding: 1rem;
    margin-top: 1rem;
}

/* Style for items in the add filter list */
.add-filter-list-item {
    /* Inherits .filter-btn base style */
    /* Add specific overrides if needed */
    background-color: var(--card-bg);
    color: var(--text-secondary);
    border: 1px solid var(--border-color);
    box-shadow: none;
    padding: 0.5rem 1rem;
    min-width: auto; /* Allow smaller buttons */
}

.add-filter-list-item:hover {
     background-color: rgba(var(--accent-rgb), 0.1);
     color: var(--accent-color);
     border-color: var(--accent-color);
     transform: translateY(-1px);
}

/* Style for the clear filter button */
.show-all-btn {
    /* ... existing code ... */
}

.projects-swiper .swiper-slide.no-results-slide {
    display: flex;          /* Ativa o Flexbox */
    justify-content: center; /* Centraliza horizontalmente */
    align-items: center;    /* Centraliza verticalmente */
    text-align: center;     /* Centraliza o texto dentro do parágrafo */
    min-height: 200px;      /* Garante uma altura mínima para visualização */
    width: 100%;            /* Ocupa a largura total do contêiner */
}

/* Estilo opcional para o parágrafo dentro do slide de 'nenhum resultado' */
.projects-swiper .swiper-slide.no-results-slide p {
    margin: 0; /* Remove margens padrão do parágrafo */
    font-style: italic;
    color: #6c757d; /* Cor cinza para indicar que é uma mensagem informativa */
} 